<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ–°è¦å•†å“ç™»éŒ²ãƒ•ãƒ­ãƒ¼ï½œé€šè²©ç´ æ.com</title>
  <style>
    /* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãã®ã¾ã¾ä½¿ç”¨ */
    * { box-sizing: border-box; }
    body { 
      margin: 0; 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans JP", sans-serif; 
      background: #f5f7fa; 
      color: #333; 
    }

    .header { 
      background: #fff; 
      border-bottom: 2px solid #007aff; 
      padding: 16px 24px; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .header h1 { 
      margin: 0; 
      font-size: 20px; 
      color: #007aff; 
    }

    .container { 
      max-width: 900px; 
      margin: 40px auto; 
      padding: 0 20px; 
    }

    /* ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
    .steps { 
      display: flex; 
      justify-content: space-between; 
      margin-bottom: 40px; 
      position: relative;
    }
    .steps::before {
      content: '';
      position: absolute;
      top: 20px;
      left: 0;
      right: 0;
      height: 2px;
      background: #ddd;
      z-index: 0;
    }
    .step { 
      flex: 1; 
      text-align: center; 
      position: relative;
      z-index: 1;
    }
    .step-circle { 
      width: 40px; 
      height: 40px; 
      border-radius: 50%; 
      background: #ddd; 
      color: #fff; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      margin: 0 auto 8px; 
      font-weight: 700;
      transition: all 0.3s;
    }
    .step.active .step-circle { 
      background: #007aff; 
      box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2);
    }
    .step.completed .step-circle { 
      background: #00a854; 
    }
    .step-label { 
      font-size: 13px; 
      color: #666; 
      font-weight: 600;
    }
    .step.active .step-label { 
      color: #007aff; 
    }

    /* ã‚«ãƒ¼ãƒ‰ */
    .card { 
      background: #fff; 
      border-radius: 8px; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
      padding: 32px; 
      margin-bottom: 24px;
    }
    .card-title { 
      font-size: 20px; 
      font-weight: 700; 
      color: #333; 
      margin: 0 0 24px 0; 
      padding-bottom: 12px;
      border-bottom: 2px solid #007aff;
    }

    /* å•†å“é¸æŠã‚«ãƒ¼ãƒ‰ */
    .product-card { 
      border: 2px solid #ddd; 
      border-radius: 8px; 
      padding: 20px; 
      display: flex; 
      gap: 20px; 
      margin-bottom: 16px;
      transition: all 0.2s;
      cursor: pointer;
    }
    .product-card:hover { 
      border-color: #007aff; 
      box-shadow: 0 4px 12px rgba(0,122,255,0.15);
    }
    .product-card.selected { 
      border-color: #007aff; 
      background: #f0f8ff;
    }
    .product-image { 
      width: 120px; 
      height: 120px; 
      object-fit: contain; 
      border: 1px solid #ddd; 
      border-radius: 4px;
    }
    .product-info { 
      flex: 1; 
    }
    .product-title { 
      font-size: 16px; 
      font-weight: 700; 
      margin: 0 0 8px 0;
    }
    .product-meta { 
      font-size: 13px; 
      color: #666; 
      margin: 4px 0;
    }
    .badge { 
      display: inline-block; 
      padding: 4px 10px; 
      border-radius: 4px; 
      font-size: 12px; 
      font-weight: 600; 
      margin-right: 8px;
    }
    .badge-primary { 
      background: #007aff; 
      color: #fff; 
    }

    /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
    .checkbox-group { 
      margin: 16px 0; 
    }
    .checkbox-item { 
      display: flex; 
      align-items: center; 
      padding: 12px; 
      border: 1px solid #ddd; 
      border-radius: 6px; 
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .checkbox-item:hover { 
      background: #f9f9f9; 
    }
    .checkbox-item input[type="checkbox"] { 
      width: 20px; 
      height: 20px; 
      margin-right: 12px; 
      cursor: pointer;
    }
    .checkbox-item.checked { 
      background: #f0f8ff; 
      border-color: #007aff;
    }

    /* ãƒ•ã‚©ãƒ¼ãƒ  */
    .form-group { 
      margin-bottom: 24px; 
    }
    .form-label { 
      display: block; 
      font-size: 14px; 
      font-weight: 600; 
      margin-bottom: 8px; 
      color: #333;
    }
    .form-control { 
      width: 100%; 
      padding: 12px; 
      border: 1px solid #ccc; 
      border-radius: 6px; 
      font-size: 14px;
      font-family: inherit;
    }
    .form-control:focus { 
      outline: none; 
      border-color: #007aff; 
      box-shadow: 0 0 0 3px rgba(0,122,255,0.1);
    }
    .form-control:disabled { 
      background: #f5f5f5; 
      color: #999; 
      cursor: not-allowed;
    }
    textarea.form-control { 
      min-height: 120px; 
      resize: vertical; 
    }
    .form-hint { 
      font-size: 12px; 
      color: #666; 
      margin-top: 6px;
    }
    .form-hint.success { color: #00a854; }
    .form-hint.warning { color: #ff9800; }
    .form-hint.error { color: #c80024; }

    /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ— */
    .radio-group { 
      display: flex; 
      flex-direction: column; 
      gap: 12px;
    }
    .radio-item { 
      display: flex; 
      align-items: flex-start; 
      padding: 12px; 
      border: 2px solid #ddd; 
      border-radius: 6px; 
      cursor: pointer;
      transition: all 0.2s;
    }
    .radio-item:hover { 
      border-color: #007aff; 
      background: #f9f9f9;
    }
    .radio-item input[type="radio"] { 
      margin: 4px 12px 0 0; 
      cursor: pointer;
    }
    .radio-item.selected { 
      border-color: #007aff; 
      background: #f0f8ff;
    }
    .radio-content { 
      flex: 1; 
    }
    .radio-label { 
      font-weight: 600; 
      margin-bottom: 6px;
    }
    .radio-description { 
      font-size: 12px; 
      color: #666;
    }
    .radio-input-group { 
      margin-top: 12px; 
      display: none;
    }
    .radio-item.selected .radio-input-group { 
      display: block;
    }

    /* ä¾¡æ ¼è¨ˆç®—çµæœ */
    .price-result { 
      background: #e8f4ff; 
      border-left: 4px solid #007aff; 
      padding: 16px; 
      border-radius: 4px; 
      margin-top: 16px;
    }
    .price-result strong { 
      color: #c80024; 
      font-size: 18px;
    }

    /* SKUãƒ†ãƒ¼ãƒ–ãƒ« */
    .sku-table { 
      width: 100%; 
      border-collapse: collapse; 
      margin-top: 16px; 
      font-size: 13px;
    }
    .sku-table th { 
      background: #f5f7fa; 
      padding: 12px 8px; 
      text-align: left; 
      font-weight: 600; 
      border-bottom: 2px solid #ddd;
    }
    .sku-table td { 
      padding: 10px 8px; 
      border-bottom: 1px solid #eee;
    }
    .sku-table input[type="number"] { 
      width: 100px; 
      padding: 6px 8px; 
      border: 1px solid #ccc; 
      border-radius: 4px; 
      text-align: right;
    }

    /* ãƒœã‚¿ãƒ³ */
    .btn-group { 
      display: flex; 
      justify-content: space-between; 
      margin-top: 32px; 
      gap: 12px;
    }
    .btn { 
      padding: 14px 32px; 
      border: none; 
      border-radius: 6px; 
      font-size: 15px; 
      font-weight: 600; 
      cursor: pointer; 
      transition: all 0.2s;
    }
    .btn-secondary { 
      background: #f0f0f0; 
      color: #333;
    }
    .btn-secondary:hover { 
      background: #e0e0e0;
    }
    .btn-primary { 
      background: #007aff; 
      color: #fff;
    }
    .btn-primary:hover { 
      background: #0056b3;
    }
    .btn:disabled { 
      opacity: 0.5; 
      cursor: not-allowed;
    }

    .hide { 
      display: none; 
    }

    /* ç¢ºèªç”»é¢ */
    .confirm-section { 
      margin-bottom: 24px; 
      padding-bottom: 24px; 
      border-bottom: 1px solid #eee;
    }
    .confirm-section:last-child { 
      border-bottom: none;
    }
    .confirm-title { 
      font-size: 16px; 
      font-weight: 700; 
      color: #004d99; 
      margin-bottom: 12px;
    }
    .confirm-item { 
      display: flex; 
      padding: 8px 0;
    }
    .confirm-label { 
      width: 150px; 
      font-size: 13px; 
      color: #666; 
      font-weight: 600;
    }
    .confirm-value { 
      flex: 1; 
      font-size: 13px; 
      color: #333;
    }

    /* å®Œäº†ç”»é¢ */
    .success-icon { 
      width: 80px; 
      height: 80px; 
      background: #00a854; 
      border-radius: 50%; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      margin: 0 auto 24px; 
      color: #fff; 
      font-size: 40px;
    }
    .success-message { 
      text-align: center; 
      font-size: 20px; 
      font-weight: 700; 
      color: #00a854; 
      margin-bottom: 32px;
    }
    
    /* ã‚¹ãƒ†ãƒƒãƒ—0ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºç”¨ */
    .loading-icon {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #007aff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 10px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ›ï¸ æ–°è¦å•†å“ç™»éŒ²ï½œãƒã‚¹ã‚¿ã‹ã‚‰é¸æŠã—ã¦RMSã¸åæ˜ </h1>
  </div>

  <div class="container">
    <div class="steps">
      <div class="step active" id="step0">
        <div class="step-circle">0</div>
        <div class="step-label">ç™»éŒ²ç¢ºèª</div>
      </div>
      <div class="step" id="step1">
        <div class="step-circle">1</div>
        <div class="step-label">å•†å“é¸æŠ</div>
      </div>
      <div class="step" id="step2">
        <div class="step-circle">2</div>
        <div class="step-label">URLé¸æŠ</div>
      </div>
      <div class="step" id="step3">
        <div class="step-circle">3</div>
        <div class="step-label">ä¾¡æ ¼è¨­å®š</div>
      </div>
      <div class="step" id="step4">
        <div class="step-circle">4</div>
        <div class="step-label">å•†å“æƒ…å ±</div>
      </div>
      <div class="step" id="step5">
        <div class="step-circle">5</div>
        <div class="step-label">ç”»åƒè¨­å®š</div>
      </div>
      <div class="step" id="step6">
        <div class="step-circle">6</div>
        <div class="step-label">ç¢ºèª</div>
      </div>
    </div>

    <div class="card" id="content-step0">
      <h2 class="card-title">ğŸ” RMSç™»éŒ²çŠ¶æ³ã®ç¢ºèª</h2>
      <div id="check-status">
        <p style="font-size: 16px;">
          **ä¼ç”»ç•ªå·: 121643** ã®RMSç™»éŒ²çŠ¶æ³ã‚’ç¢ºèªã—ã€æ—¢ã«ç™»éŒ²æ¸ˆã¿ã§ã‚ã‚Œã°æ—¢å­˜ã®è¨­å®šï¼ˆä¾¡æ ¼ã€å•†å“åãªã©ï¼‰ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
        </p>
        <div style="text-align: center; padding: 20px;">
          <button class="btn btn-primary" onclick="checkRegistration()">RMSç™»éŒ²çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹</button> 
        </div>
      </div>
      <div id="check-result" class="hide" style="text-align: center; font-size: 16px; margin-top: 20px;">
        </div>
    </div>

    <div class="card hide" id="content-step1">
      <h2 class="card-title">ğŸ“¦ ãƒã‚¹ã‚¿ã‹ã‚‰å•†å“ã‚’é¸æŠ</h2>
      
      <div class="product-card selected" onclick="selectProduct()">
        <img src="https://shop.r10s.jp/intelogue/cabinet/g63/500050439.jpg" alt="å•†å“ç”»åƒ" class="product-image">
        <div class="product-info">
          <div class="product-title">
            <span class="badge badge-primary">ä¼ç”»ç•ªå·: 121643</span>
            ã€ç‰¹åˆ¥ä¾¡æ ¼ã€‘20å‘¨å¹´è¨˜å¿µï¼3å¹´ä¿è¨¼ æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹10ã‚«ãƒ©ãƒ¼
          </div>
          <div class="product-meta"><strong>SKUç·æ•°:</strong> 120ä»¶</div>
          <div class="product-meta"><strong>å¸ä¾¡æ ¼:</strong> 5,818å††ï¼ˆç¨æŠœï¼‰</div>
          <div class="product-meta"><strong>ã‚«ãƒ†ã‚´ãƒª:</strong> å¯å…· &gt; å¸ƒå›£ã‚»ãƒƒãƒˆ</div>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="location.href='#'">å•†å“ä¸€è¦§ã«æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(2)">ã“ã®å•†å“ã‚’æ¡ç”¨ã™ã‚‹ â†’</button>
      </div>
    </div>

    <div class="card hide" id="content-step2">
      <h2 class="card-title">ğŸ”— è²©å£²URLã‚’é¸æŠ</h2>
      <p style="font-size: 14px; color: #666; margin-bottom: 20px;">
        ãƒã‚¹ã‚¿ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹URLã‹ã‚‰ã€è²©å£²ã—ãŸã„ãƒšãƒ¼ã‚¸ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚è¤‡æ•°é¸æŠã‚‚å¯èƒ½ã§ã™ã€‚
      </p>

      <div class="checkbox-group" id="urlCheckboxes">
        <label class="checkbox-item checked" id="url-A-item">
          <input type="checkbox" checked onchange="toggleCheckbox(this)" id="url-A-checkbox">
          <div style="flex: 1;">
            <div style="font-weight: 600; margin-bottom: 4px;">
              <span class="badge badge-primary">URL-A</span>
              a121643500050439
              <span id="url-A-status" style="font-size: 12px; font-weight: 700; color: #00a854; margin-left: 10px;"></span>
            </div>
            <div style="font-size: 12px; color: #666;">
              é€šå¸¸ã‚¿ã‚¤ãƒ—ï¼ˆçµ„ç«‹è¨­ç½®ãªã—ï¼‰ï½œ100ç•ªå° 60ä»¶ã®SKU
            </div>
          </div>
        </label>

        <label class="checkbox-item" id="url-B-item">
          <input type="checkbox" onchange="toggleCheckbox(this)" id="url-B-checkbox">
          <div style="flex: 1;">
            <div style="font-weight: 600; margin-bottom: 4px;">
              <span class="badge badge-primary">URL-B</span>
              a121643500050440
              <span id="url-B-status" style="font-size: 12px; font-weight: 700; color: #00a854; margin-left: 10px;"></span>
            </div>
            <div style="font-size: 12px; color: #666;">
              çµ„ç«‹è¨­ç½®ä»˜ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãï½œ500ç•ªå° 60ä»¶ã®SKU
            </div>
          </div>
        </label>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="goToStep(1)">â† æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(3)">æ¬¡ã¸ï¼šä¾¡æ ¼è¨­å®š â†’</button>
      </div>
    </div>

    <div class="card hide" id="content-step3">
      <h2 class="card-title">ğŸ’° ä¾¡æ ¼ãƒãƒªã‚·ãƒ¼è¨­å®š</h2>

      <div class="form-group">
        <label class="form-label">â‘  åŸºæº–ã¨ãªã‚‹æ›ã‘ç‡ã‚’è¨­å®š</label>
        <div class="radio-group">
          <label class="radio-item selected">
            <input type="radio" name="rateMode" value="master" checked onchange="toggleRateMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿æ¨å¥¨æ›ã‘ç‡ã‚’ä½¿ç”¨ï¼ˆ80%ï¼‰</div>
              <div class="radio-description">é€šè²©ç´ æ.comãŒæ¨å¥¨ã™ã‚‹åˆ©ç›Šç‡ã§è‡ªå‹•è¨ˆç®—ã•ã‚Œã¾ã™</div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="rateMode" value="custom" onchange="toggleRateMode(this)">
            <div class="radio-content">
              <div class="radio-label">ç‹¬è‡ªã®æ›ã‘ç‡ã‚’è¨­å®š</div>
              <div class="radio-description">åº—èˆ—ã®åˆ©ç›Šæˆ¦ç•¥ã«å¿œã˜ã¦æ›ã‘ç‡ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™</div>
              <div class="radio-input-group">
                <input type="number" id="customRate" class="form-control" value="75" style="width: 150px; display: inline-block;" onchange="calculatePrice()">
                <span style="margin-left: 8px; font-weight: 600;">%</span>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="price-result" id="priceResult">
        <div style="margin-bottom: 8px;">
          å¸ä¾¡æ ¼ 5,818å†† Ã· 80% = 7,272å††ï¼ˆç¨æŠœï¼‰
        </div>
        <div>
          â†’ <strong>ç¨è¾¼å‚è€ƒä¾¡æ ¼: 7,999å††</strong>
        </div>
        <div style="font-size: 12px; color: #666; margin-top: 8px;">
          â€» ã“ã®ä¾¡æ ¼ãŒã€ŒåŸºæº–ä¾¡æ ¼ã¨åŒæœŸã€ã®SKUã«é©ç”¨ã•ã‚Œã¾ã™
        </div>
      </div>

      <div class="form-group" style="margin-top: 32px;">
        <label class="form-label">â‘¡ SKUå€‹åˆ¥ä¾¡æ ¼ã®æ–¹é‡</label>
        <div class="radio-group">
          <label class="radio-item selected">
            <input type="radio" name="priceMode" value="sync" checked onchange="togglePriceMode(this)">
            <div class="radio-content">
              <div class="radio-label">ã™ã¹ã¦åŸºæº–ä¾¡æ ¼ã¨åŒæœŸã™ã‚‹ï¼ˆæ¨å¥¨ï¼‰</div>
              <div class="radio-description">ä¸Šè¨˜ã®æ›ã‘ç‡ã‹ã‚‰è¨ˆç®—ã•ã‚ŒãŸä¾¡æ ¼ã‚’å…¨SKUã«é©ç”¨ã—ã¾ã™</div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="priceMode" value="custom" onchange="togglePriceMode(this)">
            <div class="radio-content">
              <div class="radio-label">ä¸€éƒ¨ã®SKUã ã‘å€‹åˆ¥è¨­å®šã™ã‚‹</div>
              <div class="radio-description">ã‚µã‚¤ã‚ºã‚„ã‚«ãƒ©ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ä¾¡æ ¼ã‚’è¨­å®šã§ãã¾ã™</div>
            </div>
          </label>
        </div>
      </div>

      <div id="skuTableContainer" class="hide">
        <p style="font-size: 13px; color: #666; margin: 16px 0;">
          å€‹åˆ¥è¨­å®šã—ãŸã„SKUã®ä¾¡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ç©ºæ¬„ã®SKUã¯åŸºæº–ä¾¡æ ¼ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚
        </p>
        <div style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; border-radius: 6px;">
          <table class="sku-table">
            <thead>
              <tr>
                <th>ã‚¿ã‚¤ãƒ—</th>
                <th>ã‚µã‚¤ã‚º</th>
                <th>ã‚«ãƒ©ãƒ¼</th>
                <th>è²©å£²å˜ä½ç•ªå·</th>
                <th>å€‹åˆ¥ä¾¡æ ¼ï¼ˆç¨è¾¼ï¼‰</th>
              </tr>
            </thead>
            <tbody id="skuTableBody">
              </tbody>
          </table>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="goToStep(2)">â† æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(4)">æ¬¡ã¸ï¼šå•†å“æƒ…å ±è¨­å®š â†’</button>
      </div>
    </div>

    <div class="card hide" id="content-step4">
      <h2 class="card-title">ğŸ“ å•†å“æƒ…å ±ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆSEOå¯¾ç­–ï¼‰</h2>

      <div class="form-group">
        <label class="form-label">å•†å“åã®è¨­å®š</label>
        <div class="radio-group">
          <label class="radio-item selected">
            <input type="radio" name="nameMode" value="sync" checked onchange="toggleNameMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿å•†å“åã‚’ãã®ã¾ã¾ä½¿ç”¨</div>
              <div class="radio-description" id="name-sync-desc">ã€ç‰¹åˆ¥ä¾¡æ ¼ã€‘20å‘¨å¹´è¨˜å¿µï¼3å¹´ä¿è¨¼ æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹10ã‚«ãƒ©ãƒ¼</div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="nameMode" value="prefix" onchange="toggleNameMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿å•†å“åã®<strong>å‰</strong>ã«ç‹¬è‡ªæ–‡è¨€ã‚’æŒ¿å…¥</div>
              <div class="radio-description">ä¾‹: ã€é€æ–™ç„¡æ–™ã€‘â˜…ã®å¾Œã‚ã«ãƒã‚¹ã‚¿å•†å“åãŒç¶šãã¾ã™</div>
              <div class="radio-input-group">
                <input type="text" id="namePrefix" class="form-control" placeholder="ä¾‹: ã€é€æ–™ç„¡æ–™ã€‘â˜…">
                <div class="form-hint" id="name-prefix-hint">å…¥åŠ›ä¾‹: ã€é€æ–™ç„¡æ–™ã€‘â˜…20å‘¨å¹´è¨˜å¿µâ˜… æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ...</div>
              </div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="nameMode" value="suffix" onchange="toggleNameMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿å•†å“åã®<strong>å¾Œ</strong>ã«ç‹¬è‡ªæ–‡è¨€ã‚’æŒ¿å…¥</div>
              <div class="radio-description">ä¾‹: ãƒã‚¹ã‚¿å•†å“åã®å¾Œã‚ã«â˜…ãƒã‚¤ãƒ³ãƒˆ10å€â˜…ã‚’è¿½åŠ </div>
              <div class="radio-input-group">
                <input type="text" id="nameSuffix" class="form-control" placeholder="ä¾‹: â˜…ãƒã‚¤ãƒ³ãƒˆ10å€â˜…">
                <div class="form-hint" id="name-suffix-hint">å…¥åŠ›ä¾‹: ...æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ â˜…ãƒã‚¤ãƒ³ãƒˆ10å€â˜…</div>
              </div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="nameMode" value="custom" onchange="toggleNameMode(this)">
            <div class="radio-content">
              <div class="radio-label">å®Œå…¨ç‹¬è‡ªã®å•†å“åã‚’ä½¿ç”¨</div>
              <div class="radio-description">ãƒã‚¹ã‚¿å•†å“åã‚’ä½¿ã‚ãšã€å®Œå…¨ã«ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨­å®š</div>
              <div class="radio-input-group">
                <textarea id="nameCustom" class="form-control" rows="2" placeholder="ä¾‹: ã€æ¥½å¤©1ä½ç²å¾—ã€‘å½“åº—é™å®šï¼ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ é€æ–™ç„¡æ–™"></textarea>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="form-group" style="margin-top: 32px;">
        <label class="form-label">å•†å“èª¬æ˜æ–‡ï¼ˆHTMLï¼‰ã®è¨­å®š</label>
        <div class="radio-group">
          <label class="radio-item selected">
            <input type="radio" name="descMode" value="sync" checked onchange="toggleDescMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿ã®LPã‚’ãã®ã¾ã¾ä½¿ç”¨</div>
              <div class="radio-description">é€šè²©ç´ æ.comãŒç”¨æ„ã—ãŸãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™</div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="descMode" value="top" onchange="toggleDescMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿LPã®<strong>ä¸Šéƒ¨</strong>ã«ç‹¬è‡ªãƒãƒŠãƒ¼ã‚’æŒ¿å…¥</div>
              <div class="radio-description">ãƒã‚¹ã‚¿LPã®å‰ã«ã€åº—èˆ—ç‹¬è‡ªã®ãƒãƒŠãƒ¼ã‚„è¨´æ±‚æ–‡ã‚’è¿½åŠ ã§ãã¾ã™</div>
              <div class="radio-input-group">
                <textarea id="descTop" class="form-control" placeholder="<img src='https://example.com/banner.jpg'>"></textarea>
                <div class="form-hint success">âœ… ç”»åƒã¯RMSã«API/FTPã§è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™</div>
              </div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="descMode" value="bottom" onchange="toggleDescMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿LPã®<strong>ä¸‹éƒ¨</strong>ã«ç‹¬è‡ªãƒãƒŠãƒ¼ã‚’æŒ¿å…¥</div>
              <div class="radio-description">ãƒã‚¹ã‚¿LPã®å¾Œã‚ã«ã€åº—èˆ—ç‹¬è‡ªã®ãƒãƒŠãƒ¼ã‚„è¨´æ±‚æ–‡ã‚’è¿½åŠ ã§ãã¾ã™</div>
              <div class="radio-input-group">
                <textarea id="descBottom" class="form-control" placeholder="<img src='https://example.com/footer.jpg'>"></textarea>
                <div class="form-hint success">âœ… ç”»åƒã¯RMSã«API/FTPã§è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™</div>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="goToStep(3)">â† æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(5)">æ¬¡ã¸ï¼šç”»åƒè¨­å®š â†’</button>
      </div>
    </div>

    <div class="card hide" id="content-step5">
      <h2 class="card-title">ğŸ–¼ï¸ å•†å“ç”»åƒã®è¨­å®š</h2>

      <div class="form-group">
        <label class="form-label">å•†å“ç”»åƒã®è¨­å®šæ–¹é‡</label>
        <div class="radio-group">
          <label class="radio-item selected">
            <input type="radio" name="imageMode" value="sync" checked onchange="toggleImageMode(this)">
            <div class="radio-content">
              <div class="radio-label">ãƒã‚¹ã‚¿ç”»åƒã‚’ãã®ã¾ã¾ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰</div>
              <div class="radio-description">
                é€šè²©ç´ æ.comãŒç”¨æ„ã—ãŸé«˜å“è³ªãªå•†å“ç”»åƒã‚’ä½¿ç”¨ã—ã¾ã™<br>
                ãƒ»ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ: 1æš<br>
                ãƒ»ãƒ•ãƒªãƒƒã‚¯ç”»åƒ: æœ€å¤§20æš
              </div>
            </div>
          </label>

          <label class="radio-item">
            <input type="radio" name="imageMode" value="custom" onchange="toggleImageMode(this)">
            <div class="radio-content">
              <div class="radio-label">åº—èˆ—ç‹¬è‡ªã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
              <div class="radio-description">ã‚ªãƒªã‚¸ãƒŠãƒ«ã®å•†å“ç”»åƒã‚„åŠ å·¥æ¸ˆã¿ç”»åƒã‚’ä½¿ç”¨ã§ãã¾ã™</div>
              <div class="radio-input-group">
                <div class="form-group">
                  <label class="form-label" style="font-size: 13px;">ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ</label>
                  <input type="file" class="form-control" accept="image/*">
                  <div class="form-hint success">âœ… ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã—ã€RMSã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ï¼ˆä¸Šæ›¸ãã•ã‚Œã¾ã›ã‚“ï¼‰</div>
                </div>
                <div class="form-group">
                  <label class="form-label" style="font-size: 13px;">ãƒ•ãƒªãƒƒã‚¯ç”»åƒï¼ˆæœ€å¤§19æšï¼‰</label>
                  <input type="file" class="form-control" accept="image/*" multiple>
                  <div class="form-hint success">âœ… è¤‡æ•°é¸æŠå¯èƒ½ã€‚API/FTPã§è‡ªå‹•çš„ã«RMSã¸åæ˜ ã•ã‚Œã¾ã™</div>
                </div>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="goToStep(4)">â† æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(6)">æ¬¡ã¸ï¼šç™»éŒ²å†…å®¹ã®ç¢ºèª â†’</button>
      </div>
    </div>

    <div class="card hide" id="content-step6">
      <h2 class="card-title">âœ… ç™»éŒ²å†…å®¹ã®æœ€çµ‚ç¢ºèª</h2>
      <p style="font-size: 14px; color: #666; margin-bottom: 24px;">
        ä»¥ä¸‹ã®å†…å®¹ã§RMSã¸å•†å“ç™»éŒ²ã‚’è¡Œã„ã¾ã™ã€‚å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
      </p>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ“¦ é¸æŠã—ãŸå•†å“</div>
        <div class="confirm-item">
          <div class="confirm-label">ä¼ç”»ç•ªå·</div>
          <div class="confirm-value">121643</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">å•†å“å</div>
          <div class="confirm-value" id="confirmMasterProductName">ã€ç‰¹åˆ¥ä¾¡æ ¼ã€‘20å‘¨å¹´è¨˜å¿µï¼3å¹´ä¿è¨¼ æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹10ã‚«ãƒ©ãƒ¼</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">å¸ä¾¡æ ¼</div>
          <div class="confirm-value">5,818å††ï¼ˆç¨æŠœï¼‰</div>
        </div>
      </div>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ”— é¸æŠã—ãŸURL</div>
        <div class="confirm-item">
          <div class="confirm-label">URL</div>
          <div class="confirm-value" id="confirmUrl">a121643500050439ï¼ˆé€šå¸¸ã‚¿ã‚¤ãƒ—ï¼‰</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">å¯¾è±¡SKUæ•°</div>
          <div class="confirm-value">60ä»¶</div>
        </div>
      </div>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ’° ä¾¡æ ¼è¨­å®š</div>
        <div class="confirm-item">
          <div class="confirm-label">æ›ã‘ç‡</div>
          <div class="confirm-value" id="confirmRate">ãƒã‚¹ã‚¿æ¨å¥¨ï¼ˆ80%ï¼‰</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">åº—èˆ—è²©å£²ä¾¡æ ¼</div>
          <div class="confirm-value" id="confirmPrice">ç¨è¾¼ 7,999å††</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">SKUå€‹åˆ¥ä¾¡æ ¼</div>
          <div class="confirm-value" id="confirmSkuMode">ã™ã¹ã¦åŸºæº–ä¾¡æ ¼ã¨åŒæœŸ</div>
        </div>
      </div>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ“ å•†å“æƒ…å ±</div>
        <div class="confirm-item">
          <div class="confirm-label">å•†å“å</div>
          <div class="confirm-value" id="confirmProductName">ãƒã‚¹ã‚¿å•†å“åã‚’ãã®ã¾ã¾ä½¿ç”¨</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">å•†å“èª¬æ˜æ–‡</div>
          <div class="confirm-value" id="confirmDescription">ãƒã‚¹ã‚¿ã®LPã‚’ãã®ã¾ã¾ä½¿ç”¨</div>
        </div>
      </div>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ–¼ï¸ ç”»åƒè¨­å®š</div>
        <div class="confirm-item">
          <div class="confirm-label">ä½¿ç”¨ç”»åƒ</div>
          <div class="confirm-value" id="confirmImage">ãƒã‚¹ã‚¿ç”»åƒã‚’ãã®ã¾ã¾ä½¿ç”¨</div>
        </div>
      </div>

      <div class="confirm-section">
        <div class="confirm-title">ğŸ“Š åœ¨åº«é€£å‹•</div>
        <div class="confirm-item">
          <div class="confirm-label">åœ¨åº«ç®¡ç†</div>
          <div class="confirm-value">ãƒã‚¹ã‚¿åœ¨åº«ã¨è‡ªå‹•åŒæœŸï¼ˆæ‰‹å‹•ãƒ­ãƒƒã‚¯ä¸å¯ï¼‰</div>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="goToStep(5)">â† æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(7)">ã“ã®å†…å®¹ã§ä¿å­˜ã—ã€RMSã¸åæ˜ ã™ã‚‹</button>
      </div>
    </div>

    <div class="card hide" id="content-step7">
      <div class="success-icon">âœ“</div>
      <div class="success-message">æ¥½å¤©å¸‚å ´ã¸ã®å•†å“ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼</div>

      <div class="confirm-section">
        <div class="confirm-item">
          <div class="confirm-label">å•†å“ç®¡ç†ç•ªå·</div>
          <div class="confirm-value">a121643500050439</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">ç™»éŒ²SKUæ•°</div>
          <div class="confirm-value">60ä»¶</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</div>
          <div class="confirm-value" style="color: #00a854; font-weight: 700;">âœ“ è²©å£²ä¸­</div>
        </div>
        <div class="confirm-item">
          <div class="confirm-label">åœ¨åº«é€£å‹•</div>
          <div class="confirm-value">âœ“ ãƒã‚¹ã‚¿åœ¨åº«ã¨è‡ªå‹•åŒæœŸä¸­</div>
        </div>
      </div>

      <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 16px; border-radius: 4px; margin: 24px 0;">
        <div style="font-weight: 600; margin-bottom: 8px;">ğŸ“Œ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</div>
        <div style="font-size: 13px; color: #666;">
          ãƒ»æ¥½å¤©RMSç®¡ç†ç”»é¢ã§å•†å“ãƒšãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„<br>
          ãƒ»å¿…è¦ã«å¿œã˜ã¦ã€è¿½åŠ ã®URLã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™<br>
          ãƒ»ä¾¡æ ¼ã‚„å•†å“æƒ…å ±ã®å¤‰æ›´ã¯ã€ŒURLç·¨é›†ã€ã‹ã‚‰è¡Œãˆã¾ã™
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="location.href='#'">å•†å“ä¸€è¦§ã«æˆ»ã‚‹</button>
        <button class="btn btn-primary" onclick="goToStep(2)">ã“ã®ä¼ç”»ã§åˆ¥ã®URLã‚’è¿½åŠ ç™»éŒ²ã™ã‚‹</button>
      </div>
    </div>
  </div>

  <script>
    let currentStep = 0; // é–‹å§‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’0ã«å¤‰æ›´
    const wholesalePrice = 5818;
    const masterProductName = 'ã€ç‰¹åˆ¥ä¾¡æ ¼ã€‘20å‘¨å¹´è¨˜å¿µï¼3å¹´ä¿è¨¼ æ–°ãƒ»ç¾½æ ¹å¸ƒå›£8ç‚¹ã‚»ãƒƒãƒˆ ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹10ã‚«ãƒ©ãƒ¼';
    const skuCount = 60;
    
    // RMSã‹ã‚‰èª­ã¿è¾¼ã¾ã‚ŒãŸæ—¢å­˜ãƒ‡ãƒ¼ã‚¿ï¼ˆé€†é€£æºã®ãƒ¢ãƒƒã‚¯ï¼‰
    const existingData = {
        rateMode: 'custom',
        customRate: 75,
        priceMode: 'custom',
        nameMode: 'prefix',
        namePrefix: 'ã€å†å‡ºå“ã€‘â˜…',
        descMode: 'top',
        descTop: '<div>RMSã‹ã‚‰å–å¾—ã—ãŸæ—¢å­˜ã®ç‹¬è‡ªãƒãƒŠãƒ¼HTML</div>',
        imageMode: 'custom',
        // URL-A ã®ã¿ãŒç™»éŒ²æ¸ˆã¿ã¨ä»®å®š
        registeredUrls: ['url-A-checkbox'] 
    };

    function goToStep(step) {
      if (step > 7 || step < 0) return;

      // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤º
      document.getElementById(`content-step${currentStep}`).classList.add('hide');
      document.getElementById(`step${currentStep}`).classList.remove('active');
      
      // å®Œäº†ã—ãŸã‚¹ãƒ†ãƒƒãƒ—ã«ãƒãƒ¼ã‚¯
      if (step > currentStep) {
        document.getElementById(`step${currentStep}`).classList.add('completed');
      }

      // æ–°ã—ã„ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¡¨ç¤º
      currentStep = step;
      document.getElementById(`content-step${currentStep}`).classList.remove('hide');
      document.getElementById(`step${currentStep}`).classList.add('active');

      // ä¾¡æ ¼è¨­å®šï¼ˆã‚¹ãƒ†ãƒƒãƒ—3ï¼‰ã«ç§»å‹•ã—ãŸéš›ã«ä¾¡æ ¼ã‚’åˆæœŸè¨ˆç®—
      if (step === 3) {
        calculatePrice();
      }

      // ç¢ºèªç”»é¢ã®å ´åˆã€ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
      if (step === 6) {
        updateConfirmation();
      }

      // ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function checkRegistration() {
      const statusDiv = document.getElementById('check-status');
      const resultDiv = document.getElementById('check-result');
      const button = statusDiv.querySelector('.btn-primary');

      // 1. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
      statusDiv.innerHTML = `
        <p style="font-size: 16px;">
          RMS-APIã«æ¥ç¶šã—ã€**ä¼ç”»ç•ªå· 121643** ã®ç™»éŒ²çŠ¶æ³ã‚’ç¢ºèªä¸­ã§ã™...
        </p>
        <div class="loading-icon"></div>
      `;
      
      // 2. éåŒæœŸå‡¦ç†ã®ãƒ¢ãƒƒã‚¯ (2ç§’å¾…æ©Ÿ)
      setTimeout(() => {
        const isRegistered = true; // å¸¸ã«ç™»éŒ²æ¸ˆã¿(ç·¨é›†)ãƒ•ãƒ­ãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

        if (isRegistered) {
          resultDiv.innerHTML = `
            <div style="background: #e6ffed; border: 1px solid #00a854; color: #00a854; padding: 15px; border-radius: 4px;">
              âœ… **ç™»éŒ²æ¸ˆã¿URLãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼** æ—¢å­˜è¨­å®šã‚’ç”»é¢ã«èª­ã¿è¾¼ã¿ã¾ã™ã€‚
            </div>
          `;
          resultDiv.classList.remove('hide');
          
          // é€†é€£æºã®å®Ÿè¡Œ
          loadExistingData(existingData); 
          
          // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã‚€ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
          statusDiv.innerHTML = `
            <div class="btn-group" style="justify-content: center;">
              <button class="btn btn-primary" onclick="goToStep(2)">ç·¨é›†ç”»é¢ã¸é€²ã‚€ â†’</button>
            </div>
          `;

        } else {
          resultDiv.innerHTML = `
            <div style="background: #fff0f0; border: 1px solid #c80024; color: #c80024; padding: 15px; border-radius: 4px;">
              âŒ **æœªç™»éŒ²ã§ã™ã€‚** æ–°è¦ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ã—ã¾ã™ã€‚
            </div>
          `;
          resultDiv.classList.remove('hide');
          
          // æ–°è¦ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã®é–‹å§‹ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
          statusDiv.innerHTML = `
            <div class="btn-group" style="justify-content: center;">
              <button class="btn btn-primary" onclick="goToStep(1)">æ–°è¦ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ â†’</button>
            </div>
          `;
        }
      }, 2000); // 2ç§’å¾Œã«çµæœã‚’è¿”ã™
    }
    
    /**
     * RMSã‹ã‚‰å–å¾—ã—ãŸæ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ç”»é¢ã«åæ˜ ï¼ˆé€†é€£æºï¼‰
     */
    function loadExistingData(data) {
        // --- ã‚¹ãƒ†ãƒƒãƒ—2: URLé¸æŠ ---
        // ç™»éŒ²æ¸ˆã¿URLã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤º
        document.getElementById('url-A-checkbox').checked = false;
        document.getElementById('url-A-item').classList.remove('checked');
        document.getElementById('url-A-status').textContent = '';
        document.getElementById('url-B-checkbox').checked = false;
        document.getElementById('url-B-item').classList.remove('checked');
        document.getElementById('url-B-status').textContent = '';

        data.registeredUrls.forEach(id => {
            const checkbox = document.getElementById(id);
            if (checkbox) {
                checkbox.checked = true;
                checkbox.closest('.checkbox-item').classList.add('checked');
                document.getElementById(id.replace('-checkbox', '-status')).textContent = 'ï¼ˆRMSã«ç™»éŒ²æ¸ˆã¿ï¼‰';
            }
        });

        // --- ã‚¹ãƒ†ãƒƒãƒ—3: ä¾¡æ ¼è¨­å®š ---
        const rateRadio = document.querySelector(`input[name="rateMode"][value="${data.rateMode}"]`);
        if (rateRadio) {
            rateRadio.checked = true;
            toggleRateMode(rateRadio);
        }
        if (data.rateMode === 'custom') {
            document.getElementById('customRate').value = data.customRate;
        }

        const priceRadio = document.querySelector(`input[name="priceMode"][value="${data.priceMode}"]`);
        if (priceRadio) {
            priceRadio.checked = true;
            togglePriceMode(priceRadio);
        }

        // --- ã‚¹ãƒ†ãƒƒãƒ—4: å•†å“æƒ…å ± ---
        const nameRadio = document.querySelector(`input[name="nameMode"][value="${data.nameMode}"]`);
        if (nameRadio) {
            nameRadio.checked = true;
            toggleNameMode(nameRadio);
        }
        if (data.nameMode === 'prefix') {
            document.getElementById('namePrefix').value = data.namePrefix;
        } else if (data.nameMode === 'suffix') {
            // ä¾‹ã¨ã—ã¦Suffixã‚‚è¨­å®šã§ãã‚‹
        } else if (data.nameMode === 'custom') {
            // ä¾‹ã¨ã—ã¦Customã‚‚è¨­å®šã§ãã‚‹
        }
        
        const descRadio = document.querySelector(`input[name="descMode"][value="${data.descMode}"]`);
        if (descRadio) {
            descRadio.checked = true;
            toggleDescMode(descRadio);
        }
        if (data.descMode === 'top') {
            document.getElementById('descTop').value = data.descTop;
        }

        // --- ã‚¹ãƒ†ãƒƒãƒ—5: ç”»åƒè¨­å®š ---
        const imageRadio = document.querySelector(`input[name="imageMode"][value="${data.imageMode}"]`);
        if (imageRadio) {
            imageRadio.checked = true;
            toggleImageMode(imageRadio);
        }
    }


    function selectProduct() {
      // å•†å“é¸æŠã®å‡¦ç†ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    }

    function toggleCheckbox(checkbox) {
      const item = checkbox.closest('.checkbox-item');
      if (checkbox.checked) {
        item.classList.add('checked');
      } else {
        item.classList.remove('checked');
      }
    }

    // ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ã®çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆãƒ˜ãƒ«ãƒ‘ãƒ¼
    function toggleRadioGroup(name, radio) {
        document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
            r.closest('.radio-item').classList.remove('selected');
            // å…¥åŠ›ã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒªã‚»ãƒƒãƒˆ
            const inputGroup = r.closest('.radio-item').querySelector('.radio-input-group');
            if (inputGroup) inputGroup.style.display = 'none';
        });
        const selectedItem = radio.closest('.radio-item');
        selectedItem.classList.add('selected');
        const selectedInputGroup = selectedItem.querySelector('.radio-input-group');
        if (selectedInputGroup) selectedInputGroup.style.display = 'block';
    }


    function toggleRateMode(radio) {
      toggleRadioGroup('rateMode', radio);
      calculatePrice();
    }

    function calculatePrice() {
      const rateMode = document.querySelector('input[name="rateMode"]:checked').value;
      let rate;
      
      if (rateMode === 'master') {
        rate = 80;
      } else {
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã€å…¥åŠ›å€¤ã‚’ä½¿ç”¨
        const customRateInput = document.getElementById('customRate');
        rate = parseFloat(customRateInput.value) || 75;
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ¼ãƒˆãŒé¸æŠã•ã‚ŒãŸçŠ¶æ…‹ã§å…¥åŠ›æ¬„ãŒéè¡¨ç¤ºã®å ´åˆï¼ˆé€†é€£æºã§ã‚«ã‚¹ã‚¿ãƒ ãŒé¸æŠã•ã‚ŒãŸãŒã¾ã ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¦ã„ãªã„å ´åˆï¼‰ã«è¡¨ç¤ºã‚’åˆ¶å¾¡
        if (rateMode === 'custom') {
             customRateInput.closest('.radio-item').querySelector('.radio-input-group').style.display = 'block';
        }
      }

      const basePrice = wholesalePrice / (rate / 100);
      const basePriceInt = Math.round(basePrice);
      // ç¨ç‡10%ã§ç¨è¾¼ä¾¡æ ¼ã‚’è¨ˆç®—
      const basePriceTaxed = Math.round(basePrice * 1.10);

      document.getElementById('priceResult').innerHTML = `
        <div style="margin-bottom: 8px;">
          å¸ä¾¡æ ¼ ${wholesalePrice.toLocaleString()}å†† Ã· ${rate}% = ${basePriceInt.toLocaleString()}å††ï¼ˆç¨æŠœï¼‰
        </div>
        <div>
          â†’ <strong>ç¨è¾¼å‚è€ƒä¾¡æ ¼: ${basePriceTaxed.toLocaleString()}å††</strong>
        </div>
        <div style="font-size: 12px; color: #666; margin-top: 8px;">
          â€» ã“ã®ä¾¡æ ¼ãŒã€ŒåŸºæº–ä¾¡æ ¼ã¨åŒæœŸã€ã®SKUã«é©ç”¨ã•ã‚Œã¾ã™
        </div>
      `;
    }

    function togglePriceMode(radio) {
      toggleRadioGroup('priceMode', radio);

      const container = document.getElementById('skuTableContainer');
      if (radio.value === 'custom') {
        container.classList.remove('hide');
        generateSkuTable();
      } else {
        container.classList.add('hide');
      }
    }

    function generateSkuTable() {
      const tbody = document.getElementById('skuTableBody');
      const skus = [
        { type: 'ãƒ™ãƒƒãƒ‰ã‚¿ã‚¤ãƒ—', size: 'ã‚·ãƒ³ã‚°ãƒ«8ç‚¹ã‚»ãƒƒãƒˆ', color: 'ã‚½ãƒ•ãƒˆã‚°ãƒ¬ãƒ¼', id: '100078021' },
        { type: 'ãƒ™ãƒƒãƒ‰ã‚¿ã‚¤ãƒ—', size: 'ã‚·ãƒ³ã‚°ãƒ«8ç‚¹ã‚»ãƒƒãƒˆ', color: 'ã‚°ãƒ¬ã‚¤ãƒƒã‚·ãƒ¥ã‚»ãƒ¼ã‚¸', id: '100078022' },
        { type: 'ãƒ™ãƒƒãƒ‰ã‚¿ã‚¤ãƒ—', size: 'ã‚·ãƒ³ã‚°ãƒ«8ç‚¹ã‚»ãƒƒãƒˆ', color: 'ãƒ¢ãƒ‡ãƒ¬ãƒ¼ãƒˆã‚°ãƒ¬ãƒ¼ã‚¸ãƒ¥', id: '100078023' },
        { type: 'ãƒ™ãƒƒãƒ‰ã‚¿ã‚¤ãƒ—', size: 'ã‚»ãƒŸãƒ€ãƒ–ãƒ«8ç‚¹ã‚»ãƒƒãƒˆ', color: 'ã‚½ãƒ•ãƒˆã‚°ãƒ¬ãƒ¼', id: '100078031' },
        { type: 'ãƒ™ãƒƒãƒ‰ã‚¿ã‚¤ãƒ—', size: 'ãƒ€ãƒ–ãƒ«11ç‚¹ã‚»ãƒƒãƒˆ', color: 'ãƒ›ãƒ¯ã‚¤ãƒˆ', id: '100078044' }
      ];

      tbody.innerHTML = skus.map(sku => `
        <tr>
          <td>${sku.type}</td>
          <td>${sku.size}</td>
          <td>${sku.color}</td>
          <td>${sku.id}</td>
          <td>
            Â¥ <input type="number" placeholder="ç©ºæ¬„=åŸºæº–ä¾¡æ ¼" style="width: 120px;">
          </td>
        </tr>
      `).join('') + `
        <tr>
          <td colspan="5" style="text-align: center; color: #666; font-style: italic;">
            ... ä»– ${skuCount - skus.length}ä»¶ã®SKUï¼ˆçœç•¥ï¼‰
          </td>
        </tr>
      `;
    }

    function toggleNameMode(radio) {
      toggleRadioGroup('nameMode', radio);
      updateProductNameHint();
    }

    function toggleDescMode(radio) {
      toggleRadioGroup('descMode', radio);
    }

    function toggleImageMode(radio) {
      toggleRadioGroup('imageMode', radio);
    }

    function updateProductNameHint() {
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸå€¤ã«å¿œã˜ã¦ãƒ’ãƒ³ãƒˆã‚’æ›´æ–°ã™ã‚‹ï¼ˆã“ã“ã§ã¯ãƒ¢ãƒƒã‚¯ï¼‰
    }

    function updateConfirmation() {
      // URLç¢ºèª
      const checkedUrl = document.getElementById('url-A-checkbox').checked ? 'a121643500050439ï¼ˆé€šå¸¸ã‚¿ã‚¤ãƒ—ï¼‰' : 'a121643500050440ï¼ˆçµ„ç«‹è¨­ç½®ä»˜ï¼‰';
      document.getElementById('confirmUrl').textContent = checkedUrl;
      
      // ä¾¡æ ¼è¨­å®š
      const rateMode = document.querySelector('input[name="rateMode"]:checked').value;
      const rate = rateMode === 'master' ? 80 : parseFloat(document.getElementById('customRate').value);
      
      // ä¾¡æ ¼è¨ˆç®—ã‚’å†åº¦å®Ÿè¡Œ
      const basePrice = wholesalePrice / (rate / 100);
      const basePriceTaxed = Math.round(basePrice * 1.10);
      
      document.getElementById('confirmRate').textContent = 
        rateMode === 'master' ? 'ãƒã‚¹ã‚¿æ¨å¥¨ï¼ˆ80%ï¼‰' : `ç‹¬è‡ªè¨­å®šï¼ˆ${rate}%ï¼‰`;
      document.getElementById('confirmPrice').textContent = `ç¨è¾¼ ${basePriceTaxed.toLocaleString()}å††`;

      const priceMode = document.querySelector('input[name="priceMode"]:checked').value;
      document.getElementById('confirmSkuMode').textContent = 
        priceMode === 'sync' ? 'ã™ã¹ã¦åŸºæº–ä¾¡æ ¼ã¨åŒæœŸ' : 'ä¸€éƒ¨ã®SKUã‚’å€‹åˆ¥è¨­å®š';

      // å•†å“å
      const nameMode = document.querySelector('input[name="nameMode"]:checked').value;
      let nameText = '';
      switch(nameMode) {
        case 'sync':
          nameText = 'ãƒã‚¹ã‚¿å•†å“åã‚’ãã®ã¾ã¾ä½¿ç”¨';
          break;
        case 'prefix':
          const prefix = document.getElementById('namePrefix').value || 'ï¼ˆç©ºæ¬„ï¼‰';
          nameText = `ãƒã‚¹ã‚¿å•†å“åã®å‰ã«æŒ¿å…¥: ${prefix}`;
          break;
        case 'suffix':
          const suffix = document.getElementById('nameSuffix').value || 'ï¼ˆç©ºæ¬„ï¼‰';
          nameText = `ãƒã‚¹ã‚¿å•†å“åã®å¾Œã«æŒ¿å…¥: ${suffix}`;
          break;
        case 'custom':
          const custom = document.getElementById('nameCustom').value || 'ï¼ˆç©ºæ¬„ï¼‰';
          nameText = `å®Œå…¨ç‹¬è‡ª: ${custom.substring(0, 30)}...`;
          break;
      }
      document.getElementById('confirmProductName').textContent = nameText;

      // èª¬æ˜æ–‡
      const descMode = document.querySelector('input[name="descMode"]:checked').value;
      let descText = '';
      switch(descMode) {
        case 'sync':
          descText = 'ãƒã‚¹ã‚¿ã®LPã‚’ãã®ã¾ã¾ä½¿ç”¨';
          break;
        case 'top':
          descText = 'ãƒã‚¹ã‚¿LPã®ä¸Šéƒ¨ã«ç‹¬è‡ªãƒãƒŠãƒ¼ã‚’æŒ¿å…¥';
          break;
        case 'bottom':
          descText = 'ãƒã‚¹ã‚¿LPã®ä¸‹éƒ¨ã«ç‹¬è‡ªãƒãƒŠãƒ¼ã‚’æŒ¿å…¥';
          break;
      }
      document.getElementById('confirmDescription').textContent = descText;

      // ç”»åƒ
      const imageMode = document.querySelector('input[name="imageMode"]:checked').value;
      document.getElementById('confirmImage').textContent = 
        imageMode === 'sync' ? 'ãƒã‚¹ã‚¿ç”»åƒã‚’ãã®ã¾ã¾ä½¿ç”¨' : 'åº—èˆ—ç‹¬è‡ªã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰';
    }

    // åˆæœŸåŒ–: ã‚¹ãƒ†ãƒƒãƒ—0ã‹ã‚‰é–‹å§‹
    document.addEventListener('DOMContentLoaded', () => {
      // å…¨ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤ºã«ã™ã‚‹
      for (let i = 1; i <= 7; i++) {
        const content = document.getElementById(`content-step${i}`);
        if (content) content.classList.add('hide');
        const step = document.getElementById(`step${i}`);
        if (step) step.classList.remove('active');
      }
      // ã‚¹ãƒ†ãƒƒãƒ—0ã®ã¿è¡¨ç¤º
      document.getElementById(`content-step0`).classList.remove('hide');
      document.getElementById(`step0`).classList.add('active');
    });
  </script>
</body>
</html>

